#!/bin/bash

# Haskell Tutorial - Interactive Learning Script
# With retro 1980s ASCII graphics!

set -e

# Colors for that 80s terminal vibe
CYAN='\033[0;36m'
MAGENTA='\033[0;35m'
YELLOW='\033[1;33m'
GREEN='\033[0;32m'
RED='\033[0;31m'
BLUE='\033[0;34m'
BOLD='\033[1m'
NC='\033[0m'

# Ensure ghcup environment is loaded
if ! command -v ghc &> /dev/null; then
    if [ -f "$HOME/.ghcup/env" ]; then
        source "$HOME/.ghcup/env"
    else
        echo "Error: GHCup not found. Please run the installation first."
        exit 1
    fi
fi

clear

# Function to pause and wait for user
pause() {
    echo ""
    echo -e "${CYAN}Press ENTER to continue...${NC}"
    read
}

# Function to run a command with explanation
demo_command() {
    local explanation="$1"
    local command="$2"
    
    echo -e "${YELLOW}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
    echo -e "${BOLD}${explanation}${NC}"
    echo -e "${YELLOW}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
    echo ""
    echo -e "${GREEN}$ ${CYAN}${command}${NC}"
    echo ""
    eval "$command"
    pause
}

# Intro Screen
cat << "EOF"
                                                                     
   â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—     
   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     
   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     
   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•
                                                            
        â–€â–ˆâ–€ â–ˆâ–‘â–ˆ â–€â–ˆâ–€ â–ˆâ–€â–ˆ â–ˆâ–€â–ˆ â–ˆ â–„â–€â–ˆ â–ˆâ–‘â–‘   â–„â–„ â–„â–ˆ â–ˆâ–€â–ˆ â–ˆâ–€â–ˆ â–ˆâ–€
        â–‘â–ˆâ–‘ â–ˆâ–„â–ˆ â–‘â–ˆâ–‘ â–ˆâ–„â–ˆ â–ˆâ–€â–„ â–ˆ â–ˆâ–€â–ˆ â–ˆâ–„â–„   â–‘â–‘ â–‘â–ˆ â–€â–€â–ˆ â–„â–ˆ â–„â–ˆ
                                                            
EOF

echo -e "${CYAN}"
cat << "EOF"
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                           â•‘
    â•‘    Welcome to the HASKELL INTERACTIVE TUTORIAL! v1.0     â•‘
    â•‘                                                           â•‘
    â•‘    Learn functional programming the retro way!           â•‘
    â•‘                                                           â•‘
    â•‘    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% Awesome                    â•‘
    â•‘                                                           â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF
echo -e "${NC}"

echo ""
echo -e "${YELLOW}This tutorial will teach you Haskell basics step-by-step.${NC}"
echo -e "${YELLOW}Each section includes runnable examples!${NC}"
pause

clear

# ============================================================================
# SECTION 1: Basic GHCi
# ============================================================================

cat << "EOF"
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  â•”â•â•â•â•— â•”â•â•â•â•— â•”â•â•â•â•— â•”â•â•â•â•â•— â•”â•â•â•— â•”â•â•â•â•— â•”â•—  â•”â•—    â•”â•—       â”‚
   â”‚  â•‘â•”â•â•â• â•‘â•”â•â•â• â•‘â•”â•â•—â•‘ â•šâ•â•—â•”â•â•  â•šâ•—â•”â• â•‘â•”â•â•—â•‘ â•‘â•šâ•—â•”â•â•‘   â•”â•â•šâ•—      â”‚
   â”‚  â•‘â•šâ•â•â•— â•‘â•šâ•â•â•— â•‘â•‘ â•šâ•   â•‘â•‘     â•‘â•‘  â•‘â•‘ â•‘â•‘ â•‘â•”â•—â•”â•—â•‘   â•šâ•—â•”â•      â”‚
   â”‚  â•šâ•â•â•—â•‘ â•‘â•”â•â•â• â•‘â•‘      â•‘â•‘     â•‘â•‘  â•‘â•‘ â•‘â•‘ â•‘â•‘â•šâ•â•‘â•‘    â•‘â•‘       â”‚
   â”‚  â•”â•â•â•â•‘ â•‘â•šâ•â•â•— â•‘â•šâ•â•—â•—   â•‘â•‘    â•”â•â•šâ•— â•‘â•šâ•â•â•‘ â•‘â•‘  â•‘â•‘    â•‘â•‘       â”‚
   â”‚  â•šâ•â•â•â• â•šâ•â•â•â• â•šâ•â•â•â•   â•šâ•    â•šâ•â•â• â•šâ•â•â•â• â•šâ•  â•šâ•    â•šâ•       â”‚
   â”‚                                                           â”‚
   â”‚            The Haskell REPL - Your Playground!           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
EOF

echo ""
echo -e "${GREEN}GHCi is Haskell's interactive interpreter - like a calculator on steroids!${NC}"
echo ""
pause

demo_command "Let's check what version of GHC we're running:" "ghc --version"

echo -e "${MAGENTA}"
cat << "EOF"
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   _____ _____ _____ _____ _____ _____ _____      â”‚
    â”‚  |     |  _  |_   _|  |  |   __|     |_   _|     â”‚
    â”‚  | | | |     | | | |     |__   |  |  | | |       â”‚
    â”‚  |_|_|_|__|__| |_| |__|__|_____|_____| |_|       â”‚
    â”‚                                                   â”‚
    â”‚         Basic Arithmetic & Math!                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
EOF
echo -e "${NC}"

# Create a temp GHCi script for demos
TEMP_DIR=$(mktemp -d)
cd "$TEMP_DIR"

cat > lesson1.hs << 'HASKELL'
-- Simple math expressions
addNumbers = 2 + 2
multiply = 7 * 8
divide = 100 / 4
power = 2 ^ 10

-- Function to calculate circle area
circleArea radius = 3.14159 * radius * radius

-- Square a number
square x = x * x

-- Factorial (recursive!)
factorial 0 = 1
factorial n = n * factorial (n - 1)
HASKELL

echo -e "${YELLOW}I've created ${BOLD}lesson1.hs${NC}${YELLOW} with some basic Haskell code.${NC}"
echo ""
echo -e "${CYAN}Here's what's inside:${NC}"
cat lesson1.hs
pause

clear

cat << "EOF"
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘   â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â•‘
    â•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• â•‘
    â•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â•‘
    â•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•‘
    â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•‘
    â•‘   â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
echo -e "${GREEN}Now let's load this file into GHCi and play with it!${NC}"
echo ""

cat > demo1.ghci << 'GHCI'
:load lesson1.hs
addNumbers
multiply
square 9
circleArea 5
factorial 5
:quit
GHCI

echo -e "${CYAN}Running GHCi commands:${NC}"
echo ""
cat demo1.ghci | while IFS= read -r line; do
    if [[ ! "$line" =~ ^: ]]; then
        echo -e "${GREEN}ghci> ${YELLOW}${line}${NC}"
    else
        echo -e "${MAGENTA}${line}${NC}"
    fi
done
echo ""

ghci < demo1.ghci 2>&1 | grep -v "Loaded\|Ok,\|Leaving"

pause
clear

# ============================================================================
# SECTION 2: Lists
# ============================================================================

cat << "EOF"
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘  â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                    â•‘
   â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•                    â•‘
   â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                    â•‘
   â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ•â•â•â•â–ˆâ–ˆâ•‘                    â•‘
   â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘                    â•‘
   â•‘  â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•                    â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
cat << "EOF"
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  [â–“] â†’ [â–“] â†’ [â–“] â†’ [â–“] â†’ [â–“] â†’ [â–“] â†’ [â–“]      â”‚
    â”‚                                                 â”‚
    â”‚  Lists are the HEART of functional programming â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
EOF
echo ""

cat > lesson2.hs << 'HASKELL'
-- List operations
numbers = [1, 2, 3, 4, 5]
doubled = [x * 2 | x <- numbers]  -- List comprehension!
evens = [x | x <- [1..20], even x]

-- List functions
sumList xs = sum xs
firstThree xs = take 3 xs
lastTwo xs = drop (length xs - 2) xs

-- Concatenate lists
combine = [1,2,3] ++ [4,5,6]

-- Map function (transform every element)
squareAll xs = map (^2) xs

-- Filter function (keep only elements that match)
onlyPositive xs = filter (> 0) xs
HASKELL

echo -e "${YELLOW}Created ${BOLD}lesson2.hs${NC}${YELLOW} - Let's explore lists!${NC}"
echo ""
cat lesson2.hs
pause

cat > demo2.ghci << 'GHCI'
:load lesson2.hs
numbers
doubled
evens
sumList [1,2,3,4,5]
squareAll [1,2,3,4,5]
onlyPositive [-3, -1, 0, 2, 5, -10, 8]
[1..10]
[x^2 | x <- [1..10]]
:quit
GHCI

echo ""
echo -e "${GREEN}Watch the magic of list operations:${NC}"
echo ""

ghci < demo2.ghci 2>&1 | grep -v "Loaded\|Ok,\|Leaving"

pause
clear

# ============================================================================
# SECTION 3: Types
# ============================================================================

cat << "EOF"
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—            â•‘
   â•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•            â•‘
   â•‘     â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—            â•‘
   â•‘     â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘            â•‘
   â•‘     â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘            â•‘
   â•‘     â•šâ•â•      â•šâ•â•   â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•            â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
cat << "EOF"
    â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
    â”‚  Int  â†’  Integer  â†’  Float  â†’  String   â”‚
    â”‚    â†“       â†“          â†“          â†“       â”‚
    â”‚  [â–“â–“]   [â–“â–“â–“]      [â–“â–“â–“]     [â–“â–“â–“â–“]     â”‚
    â”‚                                           â”‚
    â”‚     Strong Static Types = POWER!         â”‚
    â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
EOF
echo ""

cat > lesson3.hs << 'HASKELL'
-- Explicit type signatures
addInts :: Int -> Int -> Int
addInts x y = x + y

-- String operations
greeting :: String -> String
greeting name = "Hello, " ++ name ++ "!"

-- Boolean logic
isAdult :: Int -> Bool
isAdult age = age >= 18

-- Maybe type (handling absence of value)
safeDiv :: Int -> Int -> Maybe Int
safeDiv _ 0 = Nothing
safeDiv x y = Just (x `div` y)

-- Custom data type
data Temperature = Celsius Double | Fahrenheit Double

toFahrenheit :: Temperature -> Double
toFahrenheit (Celsius c) = c * 9/5 + 32
toFahrenheit (Fahrenheit f) = f
HASKELL

echo -e "${YELLOW}Created ${BOLD}lesson3.hs${NC}${YELLOW} - Type safety in action!${NC}"
echo ""
cat lesson3.hs
pause

cat > demo3.ghci << 'GHCI'
:load lesson3.hs
addInts 10 20
greeting "Haskeller"
isAdult 25
isAdult 15
safeDiv 10 2
safeDiv 10 0
toFahrenheit (Celsius 0)
toFahrenheit (Celsius 100)
:type greeting
:type isAdult
:quit
GHCI

echo ""
echo -e "${GREEN}Exploring Haskell's powerful type system:${NC}"
echo ""

ghci < demo3.ghci 2>&1 | grep -v "Loaded\|Ok,\|Leaving"

pause
clear

# ============================================================================
# SECTION 4: Real World Example
# ============================================================================

cat << "EOF"
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—         â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
   â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•‘
   â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•‘
   â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•‘
   â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•‘
   â•‘  â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•šâ•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•  â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
echo -e "${CYAN}Let's build a practical example: A TODO list manager!${NC}"
echo ""

cat > TodoList.hs << 'HASKELL'
-- Simple TODO List Manager
data TodoItem = TodoItem { 
    taskId :: Int,
    description :: String,
    completed :: Bool
} deriving (Show)

-- Create a new task
newTask :: Int -> String -> TodoItem
newTask id desc = TodoItem id desc False

-- Mark task as complete
completeTask :: TodoItem -> TodoItem
completeTask task = task { completed = True }

-- Sample todo list
myTodos :: [TodoItem]
myTodos = [
    newTask 1 "Learn Haskell basics",
    newTask 2 "Build a web server",
    newTask 3 "Master monads"
    ]

-- Get incomplete tasks
incompleteTasks :: [TodoItem] -> [TodoItem]
incompleteTasks = filter (not . completed)

-- Count completed tasks
completedCount :: [TodoItem] -> Int
completedCount = length . filter completed

-- Display task
showTask :: TodoItem -> String
showTask task = 
    let status = if completed task then "[âœ“]" else "[ ]"
    in status ++ " " ++ show (taskId task) ++ ". " ++ description task
HASKELL

echo -e "${YELLOW}Created a real TODO list application!${NC}"
echo ""
cat TodoList.hs
pause

cat > demo4.ghci << 'GHCI'
:load TodoList.hs
myTodos
let completedFirst = completeTask (head myTodos)
completedFirst
incompleteTasks myTodos
let updated = completedFirst : tail myTodos
completedCount updated
mapM_ (putStrLn . showTask) updated
:quit
GHCI

echo ""
echo -e "${GREEN}Running our TODO list app:${NC}"
echo ""

ghci < demo4.ghci 2>&1 | grep -v "Loaded\|Ok,\|Leaving"

pause
clear

# ============================================================================
# FINAL SCREEN
# ============================================================================

cat << "EOF"
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘   â–„â–ˆâ–ˆâ–ˆâ–ˆâ–„   â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–„    â–ˆ   â–„â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆ   â–„â–„â–„     â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â•‘
   â•‘  â–’â–ˆâ–ˆâ–€ â–€â–ˆ  â–’â–ˆâ–ˆâ–’  â–ˆâ–ˆâ–’ â–ˆâ–ˆ â–€â–ˆ   â–ˆ  â–ˆâ–ˆâ–’ â–€â–ˆâ–’â–“â–ˆâ–ˆ â–’ â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–ˆâ–ˆâ–„   â–“  â–ˆâ–ˆâ–’ â–“â–’â–’â–ˆâ–ˆ    â–’  â•‘
   â•‘  â–’â–“â–ˆ    â–„ â–’â–ˆâ–ˆâ–‘  â–ˆâ–ˆâ–’â–“â–ˆâ–ˆ  â–€â–ˆ â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–‘â–„â–„â–„â–‘â–“â–ˆâ–ˆ â–‘â–„â–ˆ â–’â–’â–ˆâ–ˆ  â–€â–ˆâ–„ â–’ â–“â–ˆâ–ˆâ–‘ â–’â–‘â–‘ â–“â–ˆâ–ˆâ–„    â•‘
   â•‘  â–’â–“â–“â–„ â–„â–ˆâ–ˆâ–’â–’â–ˆâ–ˆ   â–ˆâ–ˆâ–‘â–“â–ˆâ–ˆâ–’  â–â–Œâ–ˆâ–ˆâ–’â–‘â–“â–ˆ  â–ˆâ–ˆâ–“â–’â–ˆâ–ˆâ–€â–€â–ˆâ–„  â–‘â–ˆâ–ˆâ–„â–„â–„â–„â–ˆâ–ˆâ–‘ â–“â–ˆâ–ˆâ–“ â–‘   â–’   â–ˆâ–ˆâ–’ â•‘
   â•‘  â–’ â–“â–ˆâ–ˆâ–ˆâ–€ â–‘â–‘ â–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘â–’â–ˆâ–ˆâ–‘   â–“â–ˆâ–ˆâ–‘â–‘â–’â–“â–ˆâ–ˆâ–ˆâ–€â–’â–‘â–ˆâ–ˆâ–“ â–’â–ˆâ–ˆâ–’ â–“â–ˆ   â–“â–ˆâ–ˆâ–’ â–’â–ˆâ–ˆâ–’ â–‘ â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’ â•‘
   â•‘  â–‘ â–‘â–’ â–’  â–‘â–‘ â–’â–‘â–’â–‘â–’â–‘ â–‘ â–’â–‘   â–’ â–’  â–‘â–’   â–’ â–‘ â–’â–“ â–‘â–’â–“â–‘ â–’â–’   â–“â–’â–ˆâ–‘ â–’ â–‘â–‘   â–’ â–’â–“â–’ â–’ â–‘ â•‘
   â•‘    â–‘  â–’     â–‘ â–’ â–’â–‘ â–‘ â–‘â–‘   â–‘ â–’â–‘  â–‘   â–‘   â–‘â–’ â–‘ â–’â–‘  â–’   â–’â–’ â–‘   â–‘    â–‘ â–‘â–’  â–‘ â–‘ â•‘
   â•‘  â–‘        â–‘ â–‘ â–‘ â–’     â–‘   â–‘ â–‘ â–‘ â–‘   â–‘   â–‘â–‘   â–‘   â–‘   â–’    â–‘      â–‘  â–‘  â–‘   â•‘
   â•‘  â–‘ â–‘          â–‘ â–‘           â–‘       â–‘    â–‘           â–‘  â–‘               â–‘   â•‘
   â•‘  â–‘                                                                           â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
echo -e "${GREEN}ğŸ‰ Congratulations! You've completed the Haskell tutorial! ğŸ‰${NC}"
echo ""

cat << "EOF"
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                 YOU'VE LEARNED:                       â•‘
    â•‘                                                       â•‘
    â•‘  âœ“ GHCi REPL and basic interactions                  â•‘
    â•‘  âœ“ Functions and expressions                         â•‘
    â•‘  âœ“ Lists and list comprehensions                     â•‘
    â•‘  âœ“ Type system and type signatures                   â•‘
    â•‘  âœ“ Pattern matching                                  â•‘
    â•‘  âœ“ Custom data types                                 â•‘
    â•‘  âœ“ Higher-order functions (map, filter)              â•‘
    â•‘  âœ“ Building real applications                        â•‘
    â•‘                                                       â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF

echo ""
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo -e "${YELLOW}          NEXT STEPS - CONTINUE YOUR JOURNEY!${NC}"
echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""
echo -e "${GREEN}ğŸ“š Resources:${NC}"
echo "  â€¢ Learn You a Haskell: http://learnyouahaskell.com/"
echo "  â€¢ Real World Haskell: http://book.realworldhaskell.org/"
echo "  â€¢ Haskell Wiki: https://wiki.haskell.org/"
echo ""
echo -e "${GREEN}ğŸ› ï¸  Tools:${NC}"
echo "  â€¢ ghci           - Interactive REPL"
echo "  â€¢ cabal build    - Build your projects"
echo "  â€¢ cabal run      - Run executables"
echo "  â€¢ ghcup tui      - Manage GHC versions"
echo ""
echo -e "${GREEN}ğŸ“ Tutorial Files:${NC}"
echo "  All lesson files are in: ${TEMP_DIR}"
echo "  â€¢ lesson1.hs - Basic functions"
echo "  â€¢ lesson2.hs - Lists"
echo "  â€¢ lesson3.hs - Types"
echo "  â€¢ TodoList.hs - Real-world example"
echo ""
echo -e "${GREEN}ğŸš€ Start Your Own Project:${NC}"
echo "  $ cabal init --interactive"
echo "  $ cabal build"
echo "  $ cabal run"
echo ""

cat << "EOF"
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„â–„   â–„â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„                  â”‚
    â”‚ â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ                 â”‚
    â”‚  â–€â–€â–€â–€â–ˆâ–‘â–ˆâ–€â–€â–€â–€ â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€                  â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–Œ                           â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„                  â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ                 â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€                  â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–Œ â–â–‘â–‘â–Œâ–â–‘â–Œ                           â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–ˆâ–„â–„â–‘â–‘â–Œâ–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„                  â”‚
    â”‚      â–â–‘â–Œ     â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ                 â”‚
    â”‚       â–€       â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€                  â”‚
    â”‚                                                     â”‚
    â”‚      â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„â–„        â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„   â–„â–„â–„â–„   â”‚
    â”‚     â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–Œ      â–â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ â–â–‘â–‘â–‘â–‘â–Œ  â”‚
    â”‚     â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€ â–â–‘â–Œâ–‘â–Œ     â–â–‘â–Œâ–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–‘â–Œ â–€â–€â–€â–€   â”‚
    â”‚     â–â–‘â–Œ          â–â–‘â–Œâ–â–‘â–Œ    â–â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œ        â”‚
    â”‚     â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„ â–â–‘â–Œ â–â–‘â–Œ   â–â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œ â–„â–„â–„â–„   â”‚
    â”‚     â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–Œ  â–â–‘â–Œ  â–â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œâ–â–‘â–‘â–‘â–‘â–Œ  â”‚
    â”‚     â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€ â–â–‘â–Œ   â–â–‘â–Œ â–â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œ â–€â–€â–€â–€   â”‚
    â”‚     â–â–‘â–Œ          â–â–‘â–Œ    â–â–‘â–Œâ–â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œ        â”‚
    â”‚     â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„ â–â–‘â–Œ     â–â–‘â–â–‘â–Œâ–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–‘â–Œ â–„â–„â–„â–„   â”‚
    â”‚     â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–Œ      â–â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ â–â–‘â–‘â–‘â–‘â–Œ  â”‚
    â”‚      â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€        â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€   â–€â–€â–€â–€   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
EOF

echo ""
echo -e "${MAGENTA}Happy Haskelling! May your types always check! ğŸš€${NC}"
echo ""

# Offer to save tutorial files
echo -e "${YELLOW}Would you like to save the tutorial files to your home directory? (y/n)${NC}"
read -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    SAVE_DIR="$HOME/haskell-tutorial-$(date +%Y%m%d)"
    mkdir -p "$SAVE_DIR"
    cp lesson*.hs TodoList.hs "$SAVE_DIR/" 2>/dev/null
    echo -e "${GREEN}âœ“ Tutorial files saved to: ${SAVE_DIR}${NC}"
fi

echo ""
echo -e "${CYAN}Tutorial complete! Exiting...${NC}"
